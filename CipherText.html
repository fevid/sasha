<!DOCTYPE html><html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ù–µ–≤–∏–¥–∏–º—ã–π —à–∏—Ñ—Ä–∞—Ç–æ—Ä</title>
  <style>
    /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ */
    body {
      background: #000;
      color: #fff;
      font-family: monospace;
      padding: 1em;
      font-weight: bold; /* –í—Å—ë —Ç–µ–∫—Å—Ç–∞ –∂–∏—Ä–Ω–æ–µ */
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }
    h3 {
      margin: 0;
      padding: 0.5em 0;
    }
    textarea {
      width: 100%;
      margin: 0.5em 0;
      padding: 0.5em;
      background: #111;
      color: #fff;
      resize: vertical;
      font-family: monospace;
      font-size: 1em;
      border: 4px solid red; /* –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫—Ä–∞—Å–Ω–∞—è —Ç–æ–ª—Å—Ç–∞—è —Ç–æ–Ω–∫–∞—è —Ä–∞–º–∫–∞ */
      font-weight: bold;
    }
    /* –í–µ—Ä—Ö–Ω–∏–π textarea –∑–µ–ª—ë–Ω–∞—è —Ä–∞–º–∫–∞ */
    #in {
      border: 4px solid green;
    }
    /* –ù–∏–∂–Ω–∏–π textarea –∫—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ */
    #out {
      border: 4px solid red;
    }
    .buttons-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5em;
      margin-top: 0.5em;
    }
    button {
      flex: 1 1 auto;
      min-width: 120px;
      padding: 0.5em;
      background: #111;
      color: #fff;
      border: 3px solid #333; /* –¢–æ–ª—â–µ –∫–Ω–æ–ø–∫–∏ */
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background: #222;
    }
    input[type="file"] {
      display: none;
    }
    label[for="fileLoader"] {
      flex: 1 1 auto;
      min-width: 120px;
      padding: 0.5em;
      background: #111;
      color: #fff;
      border: 3px solid #333;
      cursor: pointer;
      text-align: center;
      user-select: none;
      font-weight: bold;
    }
    /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–π */
    @media (max-width: 600px) {
      .buttons-row {
        flex-direction: column;
      }
      button, label[for="fileLoader"] {
        min-width: 0;
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <h3>üîí –®–∏—Ñ—Ä–∞—Ç–æ—Ä/–î–µ—à–∏—Ñ—Ä–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ ‚Äî —Ç—Ä–æ–π–Ω–æ–µ —Å–∂–∞—Ç–∏–µ (–æ–∫—Ç–∞–ª—å–Ω—ã–π –∫–æ–¥ ‚Üí Unicode)</h3>
  <textarea id="in" rows="6" placeholder="–í–≤–µ–¥–∏ –∏–ª–∏ –≤—Å—Ç–∞–≤—å —Ç–µ–∫—Å—Ç —Å—é–¥–∞..."></textarea>
  <textarea id="out" rows="6" placeholder="–†–µ–∑—É–ª—å—Ç–∞—Ç... (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π)"></textarea>
  <div class="buttons-row">
    <button onclick="encryptText()">üîê –ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
    <button onclick="decryptText()">üîì –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
    <button onclick="copyToClipboard()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
    <button onclick="saveToFile()">üíæ –°–∫–∞—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
    <label for="fileLoader">üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</label>
    <!-- –ö–Ω–æ–ø–∫–∞ –≤—Å—Ç–∞–≤–∏—Ç—å –∏–∑ –±—É—Ñ–µ—Ä–∞ —É–¥–∞–ª–µ–Ω–∞ -->
    <button onclick="clearInput()">üßπ –û—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å —Ç–µ–∫—Å—Ç</button>
  </div>
  <input type="file" id="fileLoader" accept=".txt" onchange="loadFromFile()" />
  <script>
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º 8 –≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ U+FE00‚Ä¶U+FE07 ‚Äî –æ–Ω–∏ –Ω–µ–≤–∏–¥–∏–º—ã –≤–æ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
    const symbols = Array.from({ length: 8 }, (_, i) => String.fromCharCode(0xFE00 + i));
    const octLen = 3;function encrypt(text) {
  const bytes = new TextEncoder().encode(text);
  let res = "";
  for (let b of bytes) {
    let oct = (b + 0x100).toString(8).slice(-octLen);
    for (let d of oct) res += symbols[+d];
  }
  return res;
}

function decrypt(str) {
  const chars = Array.from(str);
  let bytes = [];
  for (let i = 0; i < chars.length; i += octLen) {
    let chunk = chars.slice(i, i+octLen);
    let oct = chunk.map(c => symbols.indexOf(c)).join("");
    if (oct.length === octLen) bytes.push(parseInt(oct, 8) - 0x100);
  }
  return new TextDecoder().decode(new Uint8Array(bytes));
}

function encryptText() {
  const text = document.getElementById("in").value;
  document.getElementById("out").value = encrypt(text);
}

function decryptText() {
  const text = document.getElementById("in").value;
  document.getElementById("out").value = decrypt(text);
}

function copyToClipboard() {
  const out = document.getElementById("out");
  if (!out.value) return alert("‚ùó –ù–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è");

  if (navigator.clipboard && navigator.clipboard.writeText) {
    navigator.clipboard.writeText(out.value)
      .then(() => alert("‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!"))
      .catch(() => fallbackCopy(out));
  } else {
    fallbackCopy(out);
  }
}

function fallbackCopy(element) {
  try {
    element.select();
    element.setSelectionRange(0, element.value.length);
    if (document.execCommand('copy')) {
      alert("‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω (fallback)!");
    } else {
      alert("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç");
    }
  } catch {
    alert("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç");
  }
  window.getSelection().removeAllRanges();
}

function clearInput() {
  document.getElementById("in").value = '';
  document.getElementById("out").value = '';
}

function saveToFile() {
  const text = document.getElementById("out").value;
  if (!text) return alert("‚ùó –ù–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è");
  const blob = new Blob([text], { type: 'text/plain' });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "invisible_text.txt";
  a.click();
}

function loadFromFile() {
  const fileInput = document.getElementById("fileLoader");
  const file = fileInput.files[0];
  if (!file) return alert("‚ùó–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω");
  const reader = new FileReader();
  reader.onload = () => {
    document.getElementById("in").value = reader.result;
  };
  reader.readAsText(file);
}

  </script>
</body>
</html>